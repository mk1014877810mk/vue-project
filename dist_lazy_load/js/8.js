webpackJsonp([8],{259:function(t,e,o){"use strict";function a(t){r||o(305)}Object.defineProperty(e,"__esModule",{value:!0});var n=o(307),i=o.n(n),s=o(308),r=!1,l=o(4),d=a,c=l(i.a,s.a,d,"data-v-1b962dbc",null);c.options.__file="src\\components\\goods\\GoodsList.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] GoodsList.vue: functional components are not supported with templates, they should use render functions."),e.default=c.exports},305:function(t,e,o){var a=o(306);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o(3)("27583858",a,!1)},306:function(t,e,o){e=t.exports=o(2)(void 0),e.push([t.i,"\n.mui-table-view.mui-grid-view .mui-table-view-cell > a[data-v-1b962dbc]:not(.mui-btn) {\r\n    margin: 0px;\r\n    padding: 0px;\r\n    border: 1px solid #5c5c5c;\r\n    box-shadow: 0 0 4px #666;\n}\n.sell > span[data-v-1b962dbc] {\r\n    float: left;\r\n    color: red;\r\n    text-align: left;\n}\n.detail >.hot[data-v-1b962dbc] {\r\n    float: left;\r\n    text-align: left;\r\n    font-size: 15px;\n}\n.detail >.count[data-v-1b962dbc] {\r\n    float: right;\r\n    text-align: right;\r\n    font-size: 15px;\n}\r\n\r\n\r\n/*撑开，去除浮动没有的高度*/\n.detail[data-v-1b962dbc] {\r\n    overflow: hidden;\n}\n.desc[data-v-1b962dbc] {\r\n    color: rgba(92, 92, 92, 0.8);\r\n    background-color: rgba(0, 0, 0, 0.2);\n}\n.mui-table-view.mui-grid-view .mui-table-view-cell .mui-media-object[data-v-1b962dbc] {\r\n    height: 200px;\n}\r\n",""])},307:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{goodsList:[],allLoaded:!1,autoFill:!1,parentHeight:0,pageIndex:2}},created:function(){this.loadmoreFirst()},methods:{loadmoreFirst:function(){var t=this;this.$ajax.get("getgoods?pageindex=1").then(function(e){t.goodsList=e.data.message}).catch(function(t){console.log("获取商品列表失败",t)})},loadmoreByPage:function(t){var e=this;this.$ajax.get("getgoods?pageindex="+t).then(function(t){10!=t.data.message.length&&(e.allLoaded=!0),e.goodsList=e.goodsList.concat(t.data.message)}).catch(function(t){console.log("获取商品列表失败",t)})},loadBottom:function(){this.loadmoreByPage(this.pageIndex),this.pageIndex++,this.$refs.loadmore.onBottomLoaded()},stateChange:function(t){}},mounted:function(){var t=this.$parent.$refs.n1.$el.offsetHeight,e=this.$parent.$refs.n2.offsetHeight;this.parentHeight=document.documentElement.clientHeight-t-e}}},308:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tmpl",style:{height:t.parentHeight+"px"}},[o("nav-bar",{attrs:{title:"商品列表"}}),t._v(" "),o("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":t.autoFill},on:{"bottom-status-change":t.stateChange}},[o("ul",{ref:"ul",staticClass:"mui-table-view mui-grid-view"},t._l(t.goodsList,function(e){return o("li",{key:e.id,staticClass:"mui-table-view-cell mui-media mui-col-xs-6"},[o("router-link",{attrs:{to:{name:"goods.detail",params:{goodsId:e.id}}}},[o("img",{staticClass:"mui-media-object",attrs:{src:e.img_url}}),t._v(" "),o("div",{staticClass:"mui-media-body"},[t._v(t._s(e.title))]),t._v(" "),o("div",{staticClass:"desc"},[o("div",{staticClass:"sell"},[o("span",[t._v("￥"+t._s(e.sell_price))]),t._v(" "),o("s",[t._v("￥"+t._s(e.market_price))])]),t._v(" "),o("div",{staticClass:"detail"},[o("div",{staticClass:"hot"},[t._v("\n                                热卖中\n                            ")]),t._v(" "),o("div",{staticClass:"count"},[t._v("\n                                剩"+t._s(e.stock_quantity)+"件\n                            ")])])])])],1)}))])],1)},n=[];a._withStripped=!0;var i={render:a,staticRenderFns:n};e.a=i}});